From b54229422e9911b1b86c13edae5d4c02d132f13b Mon Sep 17 00:00:00 2001
From: Arthur Liberman <arthur_liberman@hotmail.com>
Date: Sun, 21 Apr 2019 17:08:02 +0300
Subject: [PATCH] Improve amlogic hdmitx info layout in Esturay skin

---
 .../resource.language.en_gb/strings.po        | 22 +-------
 .../xml/DialogPlayerProcessInfo.xml           | 56 ++-----------------
 2 files changed, 7 insertions(+), 71 deletions(-)

diff --git a/addons/skin.estuary/language/resource.language.en_gb/strings.po b/addons/skin.estuary/language/resource.language.en_gb/strings.po
index 6de25826c53..54d30112d37 100644
--- a/addons/skin.estuary/language/resource.language.en_gb/strings.po
+++ b/addons/skin.estuary/language/resource.language.en_gb/strings.po
@@ -800,25 +800,5 @@ msgstr ""
 
 #: /xml/DialogPlayerProcessInfo.xml
 msgctxt "#32101"
-msgid "Colour depth"
-msgstr ""
-
-#: /xml/DialogPlayerProcessInfo.xml
-msgctxt "#32102"
-msgid "Colour space"
-msgstr ""
-
-#: /xml/DialogPlayerProcessInfo.xml
-msgctxt "#32103"
-msgid "Colour range"
-msgstr ""
-
-#: /xml/DialogPlayerProcessInfo.xml
-msgctxt "#32104"
-msgid "EOTF"
-msgstr ""
-
-#: /xml/DialogPlayerProcessInfo.xml
-msgctxt "#32105"
-msgid "Colourimetry"
+msgid "EOTF & Gamut"
 msgstr ""
diff --git a/addons/skin.estuary/xml/DialogPlayerProcessInfo.xml b/addons/skin.estuary/xml/DialogPlayerProcessInfo.xml
index 9b3fc66e9bb..47c4993bb81 100644
--- a/addons/skin.estuary/xml/DialogPlayerProcessInfo.xml
+++ b/addons/skin.estuary/xml/DialogPlayerProcessInfo.xml
@@ -1,6 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <window>
-	<onload>RunScript(script.amlogic.displayinfo)</onload>
 	<depth>DepthOSD</depth>
 	<defaultcontrol always="true">5550</defaultcontrol>
 	<animation effect="fade" start="0" end="100" time="300">WindowOpen</animation>
@@ -146,7 +145,7 @@
 					<width>1200</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
-					<label>$INFO[Player.Process(pixformat),[COLOR button_focus]$LOCALIZE[31140]:[/COLOR] ]</label>
+					<label>$INFO[Player.Process(amlogic.pixformat),[COLOR button_focus]$LOCALIZE[31140]:[/COLOR] ]</label>
 					<font>font14</font>
 					<shadowcolor>black</shadowcolor>
 					<visible>Player.HasVideo</visible>
@@ -161,7 +160,7 @@
 					<visible>Player.HasVideo</visible>
 				</control>
 				<control type="label">
-					<width>1200</width>
+					<width>1600</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
 					<label>$INFO[Player.Process(videowidth),[COLOR button_focus]$LOCALIZE[38031]:[/COLOR] ,x]$INFO[Player.Process(videoheight),,]$INFO[Player.Process(videointerlace),,]$INFO[Player.Process(videodar),$COMMA , AR]$INFO[Player.Process(videofps),$COMMA , FPS]$INFO[VideoPlayer.VideoBitrate,$COMMA , kb/s]</label>
@@ -170,7 +169,7 @@
 					<visible>Player.HasVideo</visible>
 				</control>
 				<control type="label">
-					<width>1200</width>
+					<width>1600</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
 					<label>[COLOR button_focus]$LOCALIZE[460]:[/COLOR] $INFO[Player.Process(audiochannels),,$COMMA ]$INFO[Player.Process(audiodecoder)]$INFO[Player.Process(audiobitspersample),$COMMA , bits]$INFO[Player.Process(audiosamplerate),$COMMA , Hz]$INFO[VideoPlayer.AudioBitrate,$COMMA , kb/s]</label>
@@ -178,7 +177,7 @@
 					<shadowcolor>black</shadowcolor>
 				</control>
 				<control type="label">
-					<width>1200</width>
+					<width>1600</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
 					<label>[COLOR button_focus]$LOCALIZE[31030]:[/COLOR] $INFO[system.memory(used)] / $INFO[system.memory(total)] - $INFO[system.memory(used.percent)]</label>
@@ -198,68 +197,25 @@
 				<left>1250</left>
 				<top>-204</top>
 				<visible>Control.HasFocus(5552)</visible>
-
-				<control type="label">
-					<width>600</width>
-					<height>50</height>
-					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.displaymode),[COLOR button_focus]$LOCALIZE[32100]:[/COLOR] ]</label>
-					<font>font14</font>
-					<shadowcolor>black</shadowcolor>
-					<visible>Player.HasVideo</visible>
-				</control>
-
-				<control type="label">
-					<width>600</width>
-					<height>50</height>
-					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.colourdepth),[COLOR button_focus]$LOCALIZE[32101]:[/COLOR] ]</label>
-					<font>font14</font>
-					<shadowcolor>black</shadowcolor>
-					<visible>Player.HasVideo</visible>
-				</control>
-
-				<control type="label">
-					<width>600</width>
-					<height>50</height>
-					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.colourspace),[COLOR button_focus]$LOCALIZE[32102]:[/COLOR] ]</label>
-					<font>font14</font>
-					<shadowcolor>black</shadowcolor>
-					<visible>Player.HasVideo</visible>
-				</control>
-
-				<control type="label">
-					<width>600</width>
-					<height>50</height>
-					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.colourrange),[COLOR button_focus]$LOCALIZE[32103]:[/COLOR] ]</label>
-					<font>font14</font>
-					<shadowcolor>black</shadowcolor>
-					<visible>Player.HasVideo</visible>
-				</control>
-
 				<control type="label">
 					<width>600</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.eotf),[COLOR button_focus]$LOCALIZE[32104]:[/COLOR] ]</label>
+					<label>$INFO[Player.Process(amlogic.displaymode),[COLOR button_focus]$LOCALIZE[32100]:[/COLOR] ]</label>
 					<font>font14</font>
 					<shadowcolor>black</shadowcolor>
 					<visible>Player.HasVideo</visible>
 				</control>
-
 				<control type="label">
 					<width>600</width>
 					<height>50</height>
 					<aligny>bottom</aligny>
-					<label>$INFO[Window(10000).Property(amlogic.hdmitx.colourimetry),[COLOR button_focus]$LOCALIZE[32105]:[/COLOR] ]</label>
+					<label>$INFO[Player.Process(amlogic.eoft_gamut),[COLOR button_focus]$LOCALIZE[32101]:[/COLOR] ]</label>
 					<font>font14</font>
 					<shadowcolor>black</shadowcolor>
 					<visible>Player.HasVideo</visible>
 				</control>
 			</control>
-
 			<control type="grouplist" id="5550">
 				<right>15</right>
 				<top>-310</top>
